!function(t){"use strict";var i=function t(i,r,n){void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=0),this._r=t.param(i),this._g=t.param(r),this._b=t.param(n)},r={r:{configurable:!0},g:{configurable:!0},b:{configurable:!0},c:{configurable:!0},m:{configurable:!0},y:{configurable:!0},code:{configurable:!0}};i.prototype.set=function(t,r,n){return this._r=i.param(t),this._g=i.param(r),this._b=i.param(n),this},i.prototype.copy=function(t){return this._r=t.r,this._g=t.g,this._b=t.b,this},i.prototype.inverse=function(){return this._r=255-i.param(this._r),this._g=255-i.param(this._g),this._b=255-i.param(this._b),this},r.r.get=function(){return this._r},r.g.get=function(){return this._g},r.b.get=function(){return this._b},r.c.get=function(){return 255-this._r},r.m.get=function(){return 255-this._g},r.y.get=function(){return 255-this._b},r.code.get=function(){return i.code(this.r,this.g,this.b)},r.r.set=function(t){this._r=i.param(t)},r.g.set=function(t){this._g=i.param(t)},r.b.set=function(t){this._b=i.param(t)},r.c.set=function(t){this._r=255-i.param(t)},r.m.set=function(t){this._g=255-i.param(t)},r.y.set=function(t){this._b=255-i.param(t)},r.code.set=function(t){this.set(t>>16,t>>8,t)},i._RGB=function(t,i,r){return{r:t,g:i,b:r}},i.param=function(t){return 255&t},i.code=function(t,r,n){return i.param(t)<<16|i.param(r)<<8|i.param(n)},i.fromCode=function(t){return new i(t>>16,t>>8,t)},i.fromRGB=function(t,r,n){return new i(t,r,n)},i.InverseCode=function(t){return 16777215-(16777215&t)},i.AlphaBlend=function(t,i,r){function n(t,i,r){return t+(i-t)*r}var e=this.fromCode(t),o=this.fromCode(i),s=this._RGB(n(e.r,o.r,r),n(e.g,o.g,r),n(e.b,o.b,r)),a=Math.max(s.r,s.g,s.b);return a>255&&(s.r=s.r/a*255,s.g=s.g/a*255,s.b=s.b/a*255),this.code(s.r,s.g,s.b)},i.AddMix=function(t){if(t.length<=0)return 0;for(var i=this._RGB(0,0,0),r=0;r<t.length;r++){var n=this.fromCode(t[r]);i.r+=n.r,i.g+=n.g,i.b+=n.b}var e=1/t.length;return i.r*=e,i.g*=e,i.b*=e,this.code(i.r,i.g,i.b)},i.SubMix=function(t){for(var i=0;i<t.length;i++)t[i]=this.InverseCode(t[i]);return this.InverseCode(this.AddMix(t))},i.AverageMix=function(t){if(t.length<=0)return 0;for(var i=this._RGB(0,0,0),r=0;r<t.length;r++){var n=this.fromCode(t[r]);i.r+=n.r,i.g+=n.g,i.b+=n.b}var e=1/t.length;return i.r*=e,i.g*=e,i.b*=e,this.code(i.r,i.g,i.b)},i.HSV=function(t,i,r){void 0===t&&(t=0),void 0===i&&(i=1),void 0===r&&(r=1);var n=r,e=r,o=r;if(i>0){var s=~~(t*=6),a=t-s;switch(s){default:case 0:e*=1-i*(1-a),o*=1-i;break;case 1:n*=1-i*a,o*=1-i;break;case 2:n*=1-i,o*=1-i*(1-a);break;case 3:n*=1-i,e*=1-i*a;break;case 4:n*=1-i*(1-a),e*=1-i;break;case 5:e*=1-i,o*=1-i*a}}return n*=255,e*=255,o*=255,this.code(n,e,o)},Object.defineProperties(i.prototype,r);var n={taskStart:function(t,i){return t.task.reset().first().add(i),t},taskStop:function(t){return t.task.reset().first(),t},taskLimit:function(t,i,r,n){var e=this;void 0===n&&(n=function(){});var o=0;return r(0,o),this.taskStart(t,(function(s){return(o+=s.delta)<i?r(o/i,o):(e.taskStop(t),r(1,i),n())})),t},taskLoop:function(t,i,r){var n=0;return r(0,!1),this.taskStart(t,(function(t){return(n+=t.delta)<i?r(n/i,!1):r((n-=i)/i,!0)})),t},taskSleep:function(t,i,r){return this.taskLimit(t,i,(function(){}),r)}},e=function(t){function i(){t.call(this),this.Width=200,this.Height=50,this.Color=16711680,this.base=(new PIXI.Graphics).beginFill(4210752).drawRect(0,0,this.Width,this.Height),this.addChild(this.base),this.content=(new PIXI.Graphics).beginFill(this.Color).drawRect(0,0,this.Width,this.Height),this.addChild(this.content),this.contentMask=(new PIXI.Graphics).beginFill(0).drawRect(0,0,this.Width,this.Height),this.content.mask=this.contentMask,this.addChild(this.contentMask),this.frame=(new PIXI.Graphics).lineStyle(2,16777215,1,0).drawRect(0,0,this.Width,this.Height),this.addChild(this.frame)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.setColor=function(t){this.content.clear().beginFill(this.Color=t).drawRect(0,0,this.Width,this.Height)},i.prototype.setRatio=function(t){this.contentMask.clear().beginFill(0).drawRect(0,0,this.Width*t,this.Height)},i.prototype.taskAnimation=function(t){var i=this;n.taskLimit(this,60,(function(t){i.setRatio(t)}),t)},i}(t.Container),o=function(t){function i(i){var r=this;t.call(this),console.log("$",i);var o=new e;this.addChild(o);var s=!1;o.on("pointertap",(function(){s||(s=!0,o.taskAnimation((function(){s=!1,console.log("Animated")})))})).interactive=!0;var a=n.taskSleep(this,1,(function(){console.log(a===r)}));console.log("root",this)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i}(t.Container),s=t.Content.create();s.defineLibraries({root:o});var a=[512,512],h=a[0],c=a[1],u=new t.Application({width:h,height:c});s.setConfig({width:h,height:c});var f=new s;u.attachAsync(f).then((function(t){u.play()}))}(Pixim);
